<div class="thread">
    <div class="t-title">
        <img src="../images/usc.png" style="display: block">
        <h2>Multi-threading-Token Bucket Emulation</h2>
        <img src="../images/multi-threading.png">
    </div>

    <div class="t-content">
        <h3>Assignment Description</h3>
        <p>
            Emulate/simulate a traffic shaper who transmits packets controlled by a token bucket filter
            using multi-threading within a single process. When the packet and token arrivals, the operation of the token bucket filter, the first-come-first-served queues Q1
            and Q2, and server S. You also must produce a trace of your emulation for every important event occurred in your emulation
        </p>

        <br>
        <br>

        <h3>Two Modes</h3>
        <p>
            <strong>Deterministic:</strong>
            In this mode, all inter-arrival times are equal to 1/lambdaseconds, all packets require exactly P
            tokens, and allservice times are equal to 1/museconds. If 1/lambdais greater than 10 seconds,
            please use an inter-arrival time of 10 seconds. If 1/muis greater than 10 seconds, please use an
            service time of 10 seconds.
        </p>
        <p>
            <strong>Trace-driven:</strong>
            In this mode, we will drive the emulation using a tracefile. Each line in the trace file specifies the interarrival
            time of a packet, the number of tokens it need in order for it to be eligiable for transmission,
            and its service time.
        </p>

        <div class="row">
            <div class="col-md-4">
                <img src="../images/multithreading-detail/thread.png" />
                <p>Packet Arrival</p>
            </div>
            <div class="col-md-4">
                <img src="../images/multithreading-detail/thread.png" />
                <p>Token Arrival</p>
            </div>
            <div class="col-md-4">
                <img src="../images/multithreading-detail/thread.png" />
                <p>Server</p>
            </div>
        </div>

        <h3>Detailed Trace</h3>
        <p>A detailed trace as the packets move through the system.</p>

        <img class="trace-img" src="../images/multithreading-detail/trace.png" />

        <p>
            <b>The average number of packets</b> at a facility can be obtained by adding up all the
            time spent at that facility (for all packets) divided
            by the total emulation time.
        </p>
        <p>
            <b>The time spent in system</b> for a packet is the difference between the time
            the packet departed from the
            server and the time that packet arrived.
        </p>
        <p>
            <b>The token drop probability</b> is the
            total number of tokens dropped because the token
            bucket was full divided by the total number of tokens that was produced by
            the token depositing thread.
        </p>
        <p>
            <b>The packet drop probability</b> is the total number of packets dropped
            because the number of
            tokens required is larger than the bucket depth divided
            by the total number of packets that was produced by the arrival thread.
        </p>
    </div>
</div>